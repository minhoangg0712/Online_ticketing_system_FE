<div class="event-detail-container" *ngIf="eventData">
  <!-- Hero Section -->
  <div class="hero" [style.backgroundImage]="'url(' + eventData.backgroundUrl + ')'">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1>{{ eventData.eventName }}</h1>
      <p class="event-meta">
        ğŸ“… {{ eventData.startTime | date:'dd-MM-yyyy' }} | â° {{ eventData.startTime | date:'HH:mm' }}
      </p>
      <p class="event-meta">ğŸ“ {{ eventData.address }}</p>
    </div>
  </div>

    <!-- Review Section -->
    <div class="review-section">
        <div class="review-left">
            <h2>ÄÃ¡nh giÃ¡ tá»« ngÆ°á»i tham gia</h2>
            <div class="review-list">
              <div class="review-card" *ngFor="let r of reviews">
                <img class="avatar" [src]="r.userProfilePicture || 'assets/default-avatar.png'" />
                <div class="review-content">
                  <div class="review-header">
                    <strong>{{ r.userFullName }}</strong>
                    <div class="review-actions">
                      <span class="stars">
                        <ng-container *ngFor="let s of [].constructor(5); let i = index">
                          <span [class.filled]="i < r.rating">â˜…</span>
                        </ng-container>
                      </span>
                      <span class="menu-icon" (click)="toggleMenu(r.reviewId, $event)">â‹®</span>
                      <div class="menu" *ngIf="activeMenuId === r.reviewId">
                        <button (click)="deleteReview(r)">XÃ³a</button>
                      </div>
                    </div>
                  </div>
                  <p class="review-date">{{ r.reviewDate | date:'dd-MM-yyyy' }}</p>
                  <p class="review-text">{{ r.comment }}</p>
                </div>
              </div>
            </div>
        </div>
        <div class="review-right">
          <h2>{{ isEditing ? 'Chá»‰nh sá»­a Ä‘Ã¡nh giÃ¡' : 'Gá»­i Ä‘Ã¡nh giÃ¡ cá»§a báº¡n' }}</h2>
          <div class="rating-stars">
            <span
              class="star"
              *ngFor="let s of [].constructor(5); let i = index"
              [class.active]="i < selectedRating"
              (click)="selectRating(i + 1)"
            >â˜…</span>
          </div>
          <textarea
            placeholder="Chia sáº» cáº£m nháº­n cá»§a báº¡n..."
            [(ngModel)]="comment"
          ></textarea>
            <button (click)="submitReview()" class="btn-edit">
              {{ isEditing ? 'Cáº­p nháº­t Ä‘Ã¡nh giÃ¡' : 'Gá»­i Ä‘Ã¡nh giÃ¡' }}
            </button>
        </div>
    </div>

  <!-- Popup xÃ¡c nháº­n -->
  <div class="popup-overlay" *ngIf="showDeletePopup">
    <div class="popup">
      <h3>XÃ¡c nháº­n xÃ³a</h3>
      <p>Báº¡n cÃ³ cháº¯c muá»‘n xÃ³a Ä‘Ã¡nh giÃ¡ nÃ y?</p>
      <div class="popup-buttons">
        <button class="btn-cancel" (click)="cancelDelete()">Há»§y</button>
        <button class="btn-confirm" (click)="confirmDelete()">XÃ³a</button>
      </div>
    </div>
  </div>
</div>
<app-toast-notification 
  #notification
  (onClose)="onNotificationClose()">
</app-toast-notification>



